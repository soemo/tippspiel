<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- $Id: README_ja.html 244 2009-02-01 08:43:39Z tommy $ -->
<html>
  <head>
    <meta http-equiv="content-style-type" content="text/css">
    <link rel=stylesheet type="text/css" href="tommy.css">
    <link rev=made href="mailto:tommy@tmtm.org">
    <title>MySQL/Ruby</title>
  </head>

  <body>
    <h1>MySQL/Ruby</h1>
    <p><a href="README.html">[English]</a></p>
    <hr>
    <p>
      ����� <a href="http://www.mysql.com">MySQL</a> �� Ruby API �Ǥ���MySQL �� C API �Ȥۤ�Ʊ��ε�ǽ������ޤ���
    </p>

    <h2>������?��</h2>
    <a href="http://tmtm.org/downloads/mysql/ruby/">tmtm.org</a>

    <h2>ɬ�פʤ��</h2>
    <ul>
      <li>MySQL 5.0.67
      <li>Ruby 1.8.7, 1.9.1
    </ul>
    <p>
      �����ʳ��Ǥ� make �Ǥ��뤫�⤷��ޤ��󤬡���ǧ���Ƥޤ���
    </p>

    <h2>�饤����</h2>
    <p>
      ���Υץ?���� <a href="http://www.ruby-lang.org/ja/LICENSE.txt">Ruby �饤����</a> �˽����ޤ���
    </p>

    <h2>���󥹥ȡ���</h2>
    <p>
      ����¹Ԥ��Ƥ���������
    </p>
    <pre class="code">
% ruby extconf.rb
</pre>
    <p>
      �ޤ���
    </p>
    <pre class="code">
% ruby extconf.rb --with-mysql-dir=/usr/local/mysql
</pre>
    <p>
      �ޤ���
    </p>
    <pre clas="code">
% ruby extconf.rb --with-mysql-config
</pre>
    <p>
      ���줫��
    </p>
    <pre>
% make
</pre>
    <p>
      extconf.rb �ˤϼ��Υ��ץ��������Ǥ��ޤ���
    </p>
    <dl>
      <dt>--with-mysql-include=<i>dir</i>
      <dd>
	MySQL �Τإå��ե�����ξ��Ȥ��� /usr/local/include ������Υǥ��쥯�ȥ����ꤷ�ޤ���

      <dt>--with-mysql-lib=<i>dir</i>
      <dd>
	MySQL �Υ饤�֥��ξ��Ȥ��� /usr/local/lib ������Υǥ��쥯�ȥ����ꤷ�ޤ���

      <dt>--with-mysql-dir=<i>dir</i>
      <dd>--with-mysql-include=<i>dir</i>/include, --with-mysql-lib=<i>dir</i>/lib ��Ʊ���Ǥ���

      <dt>--with-mysql-config[=<i>/path/to/mysql_config</i>]
      <dd>mysql_config ���ޥ�ɤη�̤��饳��ѥ���ѥ�᡼�������ޤ���
    </dl>
    <p>
      ���Ǵ�ñ�ʥƥ��Ȥ��Ǥ��ޤ���
    </p>
    <pre class="code">
% ruby ./test.rb -- [<i>hostname</i> [<i>user</i> [<i>passwd</i> [<i>dbname</i> [<i>port</i> [<i>socket</i> [<i>flag</i>]]]]]]]
</pre>

    <p>
      test.rb ��Ϳ�������� Mysql.real_connect() �ΰ����Ʊ���Ǥ���
    </p>
    <p>
      ����ʤ���С������ѡ��桼���ǥ��󥹥ȡ��뤷�Ƥ���������
    </p>
    <pre class="code">
# make install
</pre>

    <h3>���</h3>
    <p>
      �ƥ��Ȼ��˥饤�֥�� libmysqlclient �����Ĥ���ʤ��Ȥ������顼���Ф���ϡ�make ���˥饤�֥��ξ�����ꤹ��ɬ�פ�����ޤ������Τ褦�ˤ��� make ���ƤߤƤ���������
    </p>
    <pre class="code">
% env LD_RUN_PATH=<i>libmysqlclient.so�ξ��</i> make
</pre>
    <p>
      test.rb �� Linux ��Ǥ�ư�����ǧ���Ƥ��ޤ���
      ¾�Υץ�åȥե�����Ǥϥ��顼���Ф뤫�⤷��ޤ���
    </p>

    <h2>�Ȥ���</h2>
    <p>
      �᥽�å�̾�� C API �δؿ����� mysql_ ��Ƭ������Τ�Ʊ���Ǥ����᥽�åɤλ�����ˡ�����Ū���б����� C API �ؿ���Ʊ�ͤǤ��Τǡ��ܺ٤� MySQL �Υޥ˥奢��򸫤Ƥ���������
    </p>
    <p>
      �᥽�å���ǥ��顼��ȯ���������� Mysql::Error �㳰��ȯ�����ޤ���
    </p>
    <p>
      �ä˰�̣�Τ����ͤ��֤��ʤ��ؿ��� self ���֤��ޤ���
    </p>

    <h2>Mysql ���饹</h2>
    <p>
      MySQL �����뤿��Υ��饹�Ǥ���
    </p>

    <h3>���饹�᥽�å�</h3>
    <dl>
      <dt>init()
      <dd>
	<p>
	  Mysql ���饹���֥������Ȥ��֤��ޤ���mysqld ����³�Ϥ��ޤ���
	  Mysql#options() ��ɬ�פʾ��ϡ������Ƥ����˹Ԥʤ��ޤ���
	</p>

      <dt>real_connect(host=nil, user=nil, passwd=nil, db=nil, port=nil, sock=nil, flag=nil)
      <dt>connect(host=nil, user=nil, passwd=nil, db=nil, port=nil, sock=nil, flag=nil)
      <dt>new(host=nil, user=nil, passwd=nil, db=nil, port=nil, sock=nil, flag=nil)
      <dd>
	<p>
	  mysqld ����³����Mysql ���饹���֥������Ȥ��֤��ޤ���
	  flag ������� C API �Τ�Τ�Ʊ���Ǥ���
	</p>
	<p>
	  ��) Mysql::CLIENT_FOUND_ROWS
	</p>

      <dt>escape_string(str)
      <dt>quote(str)
      <dd>
	<p>
	  insert, update �Ѥ�ʸ����򥯥����Ȥ��ޤ���
	</p>

      <dt>get_client_info()
      <dt>client_info()
      <dd>
	<p>
	  ���饤����ȥС����������ʸ������֤��ޤ���
	</p>

      <dt>get_client_version()
      <dt>client_version()
      <dd>
	<p>
	  ���饤����ȥС������������ͤ��֤��ޤ���
	</p>

      <dt>debug(str)
      <dd>
	<p>
	  C API mysql_debug() ��Ʊ����
	</p>
    </dl>

    <h3>���֥������ȥ᥽�å�</h3>
    <dl>
      <dt>options(opt, val=nil)
      <dd>
	<p>
	  C API �� mysql_options() ��Ʊ���Ǥ���
	  opt �˻��ꤹ������� C API ���� MYSQL_ ��Ƭ��������ΤǤ���
	</p>
	<p>
	  ��) Mysql::OPT_CONNECT_TIMEOUT
	</p>

      <dt>real_connect(host=nil, user=nil, passwd=nil, db=nil, port=nil, sock=nil, flag=nil)
      <dt>connect(host=nil, user=nil, passwd=nil, db=nil, port=nil, sock=nil, flag=nil)
      <dd>
	<p>
	  Mysql.real_connect() ��Ʊ���Ǥ���Mysql.init() �������������֥������Ȥ򥵡��Ф���³���뤿��˻��Ѥ��ޤ���
	</p>

      <dt>affected_rows()
      <dd>
	<p>
	  �ƶ����줿�Կ����֤��ޤ���
	</p>

      <dt>autocommit(mode)
      <dd>
	<p>
	  autocommit �⡼�ɤ� mode �����ꤷ�ޤ���mode �� nil, false, 0 �λ��ϥ��ա�����ʳ��ξ��ϥ���Ǥ���
	</p>

      <dt>change_user(user=nil, passwd=nil, db=nil)
      <dd>
	<p>
	  ��³�桼�����ѹ����ޤ���
	</p>

      <dt>character_set_name()
      <dd>
	<p>
	  ���ߤ�ʸ��åȤ��֤��ޤ���
	</p>

      <dt>close()
      <dd>
	<p>
	  ��³�����Ǥ��ޤ���
	</p>

      <dt>commit()
      <dd>
	<p>
	  �ȥ�󥶥������򥳥ߥåȤ��ޤ���
	</p>

      <dt>create_db(db)
      <dd>
	<p>
	  �ǡ����١�����������ޤ���
	</p>

      <dt>drop_db(db)
      <dd>
	<p>
	  �ǡ����١������˴����ޤ���
	</p>

      <dt>dump_debug_info()
      <dd>
	<p>
	  C API mysql_dump_debug_info() ��Ʊ����
	</p>

      <dt>errno()
      <dd>
	<p>
	  ���顼�ֹ���֤��ޤ���
	</p>

      <dt>error()
      <dd>
	<p>
	  ���顼��å��������֤��ޤ���
	</p>

      <dt>escape_string(str)
      <dt>quote(str)
      <dd>
	<p>
	  insert, update �Ѥ�ʸ����򥯥����Ȥ��ޤ���
	  C API �� mysql_real_escape_string() ��Ʊ����
	</p>

      <dt>field_count()
      <dd>
	<p>
	  �Ǹ�˼¹Ԥ��줿������ι��ܿ����֤��ޤ���
	</p>

      <dt>get_client_info()
      <dt>client_info()
      <dd>
	<p>
	  ���饤����ȥС����������ʸ������֤��ޤ���
	</p>

      <dt>get_client_version()
      <dt>client_version()
      <dd>
	<p>
	  ���饤����ȥС������������ͤ��֤��ޤ���
	</p>

      <dt>get_host_info()
      <dt>host_info()
      <dd>
	<p>
	  ��³�����ʸ������֤��ޤ���
	</p>

      <dt>get_proto_info()
      <dt>proto_info()
      <dd>
	<p>
	  ��³�ץ�ȥ���С���������ͤ��֤��ޤ���
	</p>

      <dt>get_server_info()
      <dt>server_info()
      <dd>
	<p>
	  �����ФΥС����������ʸ������֤��ޤ���
	</p>

      <dt>get_server_version()
      <dt>server_version()
      <dd>
	<p>
	  �����ФΥС������������ͤ��֤��ޤ���
	</p>

      <dt>info()
      <dd>
	<p>
	  ľ���Υ�����ξ����ʸ������֤��ޤ����ä˾��󤬤ʤ���� nil ���֤�ޤ���
	</p>

      <dt>insert_id()
      <dd>
	<p>
	  �Ǹ���������줿 AUTO_INCREMENT ���ܤ��ͤ��֤��ޤ���
	</p>

      <dt>kill(id)
      <dd>
	<p>
	  id �ǻ��ꤷ������åɤ򻦤��ޤ���
	</p>

      <dt>list_dbs(db=nil)
      <dd>
	<p>
	  �ǡ����١����ΰ�����������֤��ޤ���
	</p>

      <dt>list_fields(table, field=nil)
      <dd>
	<p>
	  �ơ��֥���ι��ܾ���ΰ����򼨤� Mysql::Result ���饹���֥������Ȥ��֤��ޤ���
	</p>

      <dt>list_processes()
      <dd>
	<p>
	  �����о�θ��ߤΥ���åɤΰ����򼨤� Mysql::Result ���饹���֥������Ȥ��֤��ޤ���
	</p>

      <dt>list_tables(table=nil)
      <dd>
	<p>
	  �ơ��֥�ΰ�����������֤��ޤ���
	</p>

      <dt>more_results?()
      <dd>
	<p>
	  �������Ƥ��ʤ��������̤�������Ͽ����֤��ޤ���
	</p>

      <dt>next_result()
      <dd>
	<p>
	  �������Ƥ��ʤ��������̤�������Ͽ����֤��ޤ���
	  ���θ�� store_result() ��¹Ԥ���ȥ������̤�����Ǥ��ޤ���
	</p>

      <dt>ping()
      <dd>
	<p>
	  �����Ф������Ƥ��뤫�ɤ���������å����ޤ���
	</p>

      <dt>prepare(q)
      <dd>
	<p>
	  ������򥵡��Ф�����ޤ������λ����ǤϤޤ��¹Ԥ���ޤ���
	  Mysql::Stmt ���饹���֥������Ȥ��֤��ޤ���
	</p>
	<p>
	  Mysql#stmt_init.prepare(q) ��Ʊ���Ǥ���
	</p>

      <dt>query(q)
      <dt>real_query(q)
      <dd>
	<p>
	  �������¹Ԥ��ޤ���
	  �����꤬��̤��֤���硢��ưŪ�� store_result() ��¹Ԥ��ơ�Mysql::Result ���饹���֥������Ȥ��֤��ޤ���
	  query_with_result �� false �����ꤵ��Ƥ���С�store_result() �ϼ¹Ԥ��ޤ���
	</p>

      <dt>query(q) {|res| ...}
      <dt>real_query(q) {|res| ...}
      <dd>
	<p>
	  �������¹Ԥ��ޤ���
	  �����꤬��̤��֤���硢Mysql::Result ���֥������Ȥ����Ȥ��ƥ֥�å���¹Ԥ��ޤ���
          �֥�å���λ���� Mysql::Result ���֥������Ȥϲ����ޤ���
          �ޥ�����ơ��ȥ��ȥ⡼�ɤǡ�����ˡ�;�פǶ��ڤ�줿ʣ���Υ��������ꤷ�����ϡ�������ο������֥�å��򷫤��֤��ޤ���
        </p>
        <p>
          MySQL/Ruby 2.8 ����ϡ���ưŪ�˥ޥ�����ơ��ȥ��ȥ⡼�ɤˤϤʤ�ʤ��ʤ�ޤ�����
          Mysql.connect �� flag �� Mysql::CLIENT_MULTI_STATEMENTS ����ꤹ�뤫��Mysql#set_server_option(Mysql::OPTION_MULTI_STATEMENTS_ON) ��¹Ԥ��Ƥ���������
        </p>

      <dt>refresh(r)
      <dd>
	<p>
	  �����ФΥ?�䥭��å������ե�å��夷�ޤ���
	</p>

      <dt>reload()
      <dd>
	<p>
	  �����������ơ��֥����ɤ߹��ߤ��ޤ���
	</p>

      <dt>rollback()
      <dd>
	<p>
	  �ȥ�󥶥�������?��Хå����ޤ���
	</p>

      <dt>select_db(db)
      <dd>
	<p>
	  �ǡ����١��������򤷤ޤ���
	</p>

      <dt>set_server_option(opt)
      <dd>
	<p>
	  ����ǻ��ꤷ�����ץ����򥵡��Ф����ꤷ�ޤ���
	  ����ˤϡ�Mysql::OPTION_MULTI_STATEMENTS_ON, Mysql::OPTION_MULTI_STATEMENTS_OFF ������Ǥ��ޤ���
	</p>

      <dt>shutdown()
      <dd>
	<p>
	  �����Ф���ߤ��ޤ���
	</p>

      <dt>ssl_set(key=nil, cert=nil, ca=nil, capath=nil, cipher=nil)
      <dd>
	<p>
	  SSL��³����Ѥ��ޤ���Mysql.init() �塢Mysql#connect() ���˹Ԥʤ�ɬ�פ�����ޤ���
	</p>

      <dt>stat()
      <dd>
	<p>
	  �����Фξ��֤�ʸ������֤��ޤ���
	</p>

      <dt>stmt_init()
      <dd>
	<p>
	  Mysql::Stmt ���饹���֥������Ȥ��֤��ޤ���
	</p>

      <dt>store_result()
      <dd>
	<p>
	  ������η�̤� Mysql::Result ���饹���֥������Ȥ��֤��ޤ���
	</p>

      <dt>thread_id()
      <dd>
	<p>
	  ���ߤ���³�Υ���å�ID���֤��ޤ���
	</p>

      <dt>use_result()
      <dd>
	<p>
	  ������η�̤� Mysql::Result ���饹���֥������Ȥ��֤��ޤ���
	</p>

      <dt>warning_count()
      <dd>
	<p>
	  ľ���Υ�����ηٹ�����֤��ޤ���
	</p>
    </dl>

    <h3>���֥��������ѿ�</h3>

    <dl>
      <dt>query_with_result
      <dd>
	<p>
	  true �����ꤹ��� query() ���� store_result() ��¹Ԥ��ơ�Mysql::Result ���饹���֥������Ȥ��֤��ޤ���
	  false �����ꤹ��Ȥ���ư��ϹԤ��ޤ��󡣥ǥե���Ȥ� true �Ǥ���
	</p>

      <dt>reconnect
      <dd>
	<p>
	  true �����ꤹ��� MySQL �����ФȤ���³���ڤ줿�Ȥ��˼�ưŪ�˺���³���ޤ���
	  �ǥե���Ȥ� false �Ǥ���
	</p>
    </dl>

    <h2>Mysql::Result ���饹</h2>
    <p>
      �������̤Υ��饹�Ǥ���
    </p>

    <h3>���֥������ȥ᥽�å�</h3>
    <dl>
      <dt>free()
      <dd>
	<p>
	  ��̥ơ��֥��ѥ�������ޤ���
	</p>

      <dt>data_seek(offset)
      <dd>
	<p>
	  ���ߤιԤΰ��֤� offset ���ܤιԤˤ��ޤ���
	</p>

      <dt>fetch_field()
      <dd>
	<p>
	  ���ߤι��ܤ� Mysql::Field ���饹���֥������Ȥ��֤��ޤ���
	  ���˸ƤФ줿���ϼ��ι��ܤ��֤��ޤ���
	</p>

      <dt>fetch_fields()
      <dd>
	<p>
	  �������Τ�ɽ�� Mysql::Field ���饹���֥������Ȥ�������֤��ޤ���
	</p>

      <dt>fetch_field_direct(fieldnr)
      <dd>
	<p>
	  fieldnr ���ܤι��ܤ� Mysql::Field ���饹���֥������Ȥ��֤��ޤ���
	</p>

      <dt>fetch_lengths()
      <dd>
	<p>
	  ���ߤιԤγƹ����ͤ�Ĺ����������֤��ޤ���
	</p>

      <dt>fetch_row()
      <dd>
	<p>
	  ������̤Σ��Ԥ��֤��ޤ������˸ƤФ줿���ϼ��ιԤ��֤��ޤ���
	  ����ͤϹ����ͤ�����Ǥ���
	</p>

      <dt>fetch_hash(with_table=false)
      <dd>
	<p>
	  ������̤Σ��Ԥ��֤��ޤ������˸ƤФ줿���ϼ��ιԤ��֤��ޤ���
	  ����ͤϹ���̾�򥭡��Ȥ��������ͤΥϥå���Ǥ���
	  with_table �� true �ξ��ϥ����˥ơ��֥�̾���ղä��졢"�ơ��֥�̾.����̾" �Ȥ��������Υ����ˤʤ�ޤ���
	</p>

      <dt>field_seek(offset)
      <dd>
	<p>
	  ���ߤι��ܰ��֤� offset ���ܤι��ܤˤ��ޤ���
	</p>

      <dt>field_tell()
      <dd>
	<p>
	  ���ߤι��ܤΰ��֤��֤��ޤ���
	</p>

      <dt>num_fields()
      <dd>
	<p>
	  ���ܿ����֤��ޤ���
	</p>

      <dt>num_rows()
      <dd>
	<p>
	  ����������֤��ޤ���
	</p>

      <dt>row_seek(offset)
      <dd>
	<p>
	  ���ߤιԤΰ��֤����ꤷ�ޤ���
	  offset ������ɽ���� row_tell() ���֤��� Mysql::RowOffset ���饹���֥������ȤǤ���
	</p>

      <dt>row_tell()
      <dd>
	<p>
	  ���ߤιԤΰ��֤� Mysql::RowOffset ���饹���֥������Ȥ��֤��ޤ���
	</p>
    </dl>

    <h3>���ƥ졼��</h3>
    <dl>
      <dt>each() {|x| ��}
      <dd>
	<p>
	  ������̤γƹԤ��Ȥ� {��} �򷫤��֤��ޤ���x �Ϲ����ͤ�����Ǥ���
	</p>

      <dt>each_hash(with_table=false) {|x| ��}
      <dd>
	<p>
	  ������̤γƹԤ��Ȥ� {��} �򷫤��֤��ޤ���
	  x �Ϲ���̾�򥭡��Ȥ��������ͤΥϥå���Ǥ���
	  with_table �� true �ξ��ϥ����˥ơ��֥�̾���ղä��졢"�ơ��֥�̾.����̾" �Ȥ��������Υ����ˤʤ�ޤ���
	</p>
    </dl>

    <h2>Mysql::Field ���饹</h2>
    <p>
      ���ܤξܺ٤�ɽ�����饹�Ǥ���C API �Ȱۤʤꡢ���֥������Ȥ� Mysql::Result �Ȥ���Ω����¸�ߤ���Τǡ�Mysql::Result ���饹���֥������Ȥ�����줿��Ǥ����ѤǤ��ޤ����������Τ��� C API ����������Ѥ��ޤ���
    </p>

    <h3>���֥��������ѿ�(�ɤ߽Ф��Τ�)</h3>
    <dl>
      <dt>name<dd>����̾
      <dt>table<dd>�ơ��֥�̾
      <dt>def<dd>�ǥե������
      <dt>type<dd>���ܤη�
      <dt>length<dd>���ܤ�Ĺ��
      <dt>max_length<dd>���������ι����ͤκ���Ĺ
      <dt>flags<dd>�ե饰
      <dt>decimals<dd>���������
    </dl>
    <p>
      type ���б���������� C API �Τ�Τ��� FIELD_ ��Ƭ������ΤǤ���
    </p>
    <p>
      ��) Mysql::Field::TYPE_STRING
    </p>
    <p>
      flag ���б���������� C API �Τ�Τ�Ʊ���Ǥ���
    </p>
    <p>
      ��) Mysql::Field::BLOB_FLAG
    </p>

    <h3>���֥������ȥ᥽�å�</h3>
    <dl>
      <dt>hash()
      <dd>
	<p>
	  �嵭���ѿ�̾�򥭡��Ȥ���ϥå�����֤��ޤ���
	</p>
	<p>
	  ��) obj.name == obj.hash['name']
	</p>

      <dt>is_not_null?()
      <dd>
	<p>
	  �ե�����ɤ� "NOT NULL" ���������Ƥ���п����֤��ޤ���
	</p>

      <dt>is_num?()
      <dd>
	<p>
	  �ե�����ɤ����ͤξ��Ͽ����֤��ޤ���
	</p>

      <dt>is_pri_key?()
      <dd>
	<p>
	  �ե�����ɤ��ץ饤�ޥꥭ���ξ��Ͽ����֤��ޤ���
	</p>

      <dt>inspect()
      <dd>
	<p>
	  ʸ���� "#&lt;Mysql::Field:����̾&gt;" ���֤��ޤ���
	</p>
    </dl>

    <h2>Mysql::Stmt ���饹</h2>
    <p>
      MySQL �ǥץ�ڥ��ɥ��ơ��ȥ��Ȥ򰷤�����Υ��饹�Ǥ���
    </p>
    <p>
      ������:
    </p>
    <pre class="code">
my = Mysql.new(hostname, username, password, databasename)
st = my.prepare("insert into tblname (col1,col2,col3) values (?,?,?)")
st.execute("abc",123,Time.now)
st.prepare("select col1,col2,col3 from tblname")
st.execute
st.fetch  # => ["abc", 123, #&lt;Mysql::Time:2005-07-24 23:52:55&gt;]
st.close
</pre>

    <h3>���֥������ȥ᥽�å�</h3>
    <dl>
      <dt>affected_rows()
      <dd>
	<p>
	  �ƶ����줿�Կ����֤��ޤ���
	</p>

      <dt>bind_result(class, ...)
      <dd>
        <p>
          ��̤��֤�������ξ��ˡ����Ф�����ͤΥ��饹����ꤷ�ޤ���
          ����Ǥ��륯�饹�ϡ�Numeric, Integer, Fixnum, Float, Mysql::Time �Ǥ���
          nil ����ꤹ��ȡ���ưȽ�̤��ޤ���
          bind_result ��¹Ԥ��ʤ����ϼ�ưȽ�̤��ޤ���
        </p>

      <dt>close()
      <dd>
	<p>
	  Mysql::Stmt ���֥������Ȥ����ޤ���
	</p>

      <dt>data_seek(offset)
      <dd>
	<p>
	  ���� fetch() �Ǽ��Ф����Ԥ� offset ���ܤιԤˤ��ޤ���
	  offset �� 0 ����Ϥޤ�ޤ���
	</p>

      <dt>execute(arg, ...)
      <dd>
	<p>
	  prepare() ����������˥ѥ�᡼����Ϳ���Ƽ¹Ԥ��ޤ���
	</p>

      <dt>fetch()
      <dd>
	<p>
	  execute() �Ǽ¹Ԥ���������η�̤��ͤ�����Ǽ��Ф��ޤ���
	  �ͤ��֤��ʤ�������ξ��䡢�Ǹ�ޤǼ��Ф������� nil ���֤��ޤ���
	</p>
	<p>
	  ����γ����Ǥ� MySQL �η��˱����Ƽ��Τ褦�ˤʤ�ޤ���
	</p>
	<table>
	    <tr><th>MySQL�η�<th>Ruby�Υ��饹
	    <tr><td>TINYINT, SMALLINT, MEDIUMINT, YEAR<td>Fixnum
	    <tr><td>INT, BIGINT<td>Fixnum�ޤ���Bignum
	    <tr><td>FLOAT, DOUBLE<td>Float
	    <tr><td>DECIMAL<td>String
	    <tr><td>DATE, DATETIME, TIMESTAMP, TIME<td>Mysql::Time
	    <tr><td>CHAR, VARCHAR, BINARY, VARBINARY, TINYBLOB, TINYTEXT, TINYBLOB, TINYTEXT, MEDIUMBLOB, MEDIUMTEXT, LONGBLOB, LONGTEXT, ENUM, SET, BIT<td>String
	    <tr><td>NULL<td>NilClass
	</table>

      <dt>field_count()
      <dd>
	<p>
	  prepare ���������꤬�֤���̤Υե�����ɿ����֤��ޤ���
	</p>

      <dt>free_result()
      <dd>
	<p>
	  ������̤����ޤ���
	</p>

      <dt>insert_id()
      <dd>
	<p>
	  �������줿 AUTO_INCREMENT ���ܤ��ͤ��֤��ޤ���
	</p>

      <dt>num_rows()
      <dd>
	<p>
	  ������̤ιԿ����֤��ޤ���
	</p>

      <dt>param_count()
      <dd>
	<p>
	  prepare() ����������Υѥ�᡼����?�פο����֤��ޤ���
	</p>

      <dt>prepare(q)
      <dd>
	<p>
	  ������򥵡��Ф�����ޤ������λ����ǤϤޤ��¹Ԥ���ޤ���
	  execute() �Ǽ¹Ԥ���ޤ���
	</p>

      <dt>result_metadata()
      <dd>
	<p>
	  prepare() ������������֤�����̤Υե�����ɤ� Mysql::Result ���饹���֥������Ȥ��֤��ޤ���
	</p>

      <dt>row_seek(offset)
      <dd>
	<p>
	  ���� fetch() �Ǽ��Ф����Ԥ� offset �ΰ��֤ˤ��ޤ���
	  data_seek �Ȱۤʤ� offset �� row_tell() ���֤���� Mysql::RowOffset ���饹���֥������ȤǤ���
	</p>

      <dt>row_tell()
      <dd>
	<p>
	  ���ߤιԤΰ��֤� Mysql::RowOffset ���饹���֥������Ȥ��֤��ޤ���
	</p>

      <dt>sqlstate()
      <dd>
	<p>
	  ���顼�����ɤ� SQLSTATE ʸ������֤��ޤ���
	</p>
    </dl>

    <h3>���ƥ졼��</h3>
    <dl>
      <dt>each() {|x| ��}
      <dd>
	<p>
	  ������̤γƹԤ��Ȥ� {��} �򷫤��֤��ޤ���
	  x �� fetch() ���֤�����Τ�Ʊ������Ǥ���
	</p>
    </dl>

    <h2>Mysql::Time ���饹</h2>
    <p>
      Mysql::Stmt �ǻȤ��������ɽ������Υ��饹�Ǥ���
    </p>

    <h3>���饹�᥽�å�</h3>
    <dl>
      <dt>new(year=0,month=0,day=0,hour=0,minute=0,second=0,neg=false,second_part=0)
      <dd>
	<p>
	  Mysql::Time���饹��������ޤ���
	</p>
    </dl>

    <h3>���֥��������ѿ�</h3>
    <dl>
      <dt>year
      <dd>
	ǯ

      <dt>month
      <dd>
	��

      <dt>day
      <dd>
	��

      <dt>hour
      <dd>
	��

      <dt>minute
      <dd>
	ʬ

      <dt>second
      <dd>
	��

      <dt>neg
      <dd>
	���郎���ξ��� false, ��ξ��� true

      <dt>second_part
      <dd>
	�äξ������ʲ���̤����
    </dl>

    <h2>Mysql::Error ���饹</h2>
    <p>
      MySQL �Υ��顼��ɽ�魯���饹�Ǥ���
      MySQL �Υ��顼��ȯ�����������㳰�Ȥ�����������ޤ���
    </p>

    <h3>���֥��������ѿ�(�ɤ߽Ф��Τ�)</h3>
    <dl>
      <dt>error
      <dd>���顼��å�����
      <dt>errno
      <dd>���顼�ֹ�
    </dl>
    <p>
      errno ���б���������� C API �Τ�Τ�Ʊ���Ǥ���
    </p>
    <p>
      ��) Mysql::Error::CR_UNKNOWN_HOST
    </p>

    <h2>����</h2>
    <dl>
      <dt>2009-02-01
      <dd>
        version 2.8.1<br>
        <ul>
          <li>Ruby 1.9.1 ���б���
        </ul>

      <dt>2008-09-29
      <dd>
        version 2.8<br>
        version 2.7.7
        <ul>
          <li>MySQL�ؤ���³���� SIGVTALRM �� EINTR �ˤʤ뤳�Ȥ������������ ([ruby-dev:31842])
          <li>MySQL/Ruby 2.7.* �� Ruby 1.8.5 �ǥ���ѥ���Ǥ��ʤ��ä���
        </ul>

      <dt>2008-06-20
      <dd>
        version 2.8pre4
        <ul>
          <li>���顼����ե�����򳰤���������¾��[ruby-dev:35152]
        </ul>

      <dt>2008-06-17
      <dd>
        version 2.8pre3<br>
        version 2.7.6
        <ul>
          <li>64bit �Ķ��� Mysql::Stmt#execute ���礭�ʿ���(2**30 �ʾ�)�ǥ��顼�ˤʤ����������
        </ul>

      <dt>2008-03-08
      <dd>
        version 2.8pre2<br>
        version 2.7.5
        <ul>
          <li>64bit �Ķ��� Mysql::Stmt#fetch �ǿ��ͤ���������������
        </ul>

      <dt>2007-12-26
      <dd>
        version 2.8pre1
        <ul>
          <li>Ruby 1.9.0 �б�
          <li>Incompat: Mysql::Result#each_hash ������˥����̾ʸ�������������ΤǤϤʤ�����ͭ����褦�ˤ�����
          <li>Incompat: �֥�å��Ĥ� Mysql#query �Ǽ�ưŪ�˥ޥ�����ơ��ȥ��ȥ⡼�ɤˤʤ�ʤ��褦�ˤ�����
        </ul>

      <dt>2007-08-22
      <dd>
        version 2.7.4
        <ul>
          <li>BUG: Mysql::Stmt#execute ������꡼�����Ƥ�����
        </ul>

      <dt>2006-12-20
      <dd>
        version 2.7.3
        <ul>
          <li>BUG: �֥�å��Ĥ� Mysql#query �����Ǹ�Υ����꤬���顼�ξ�����ߤ��Ƥ��ޤ���
        </ul>

      <dt>2006-10-28
      <dd>
        version 2.7.2
        <ul>
          <li>BUG: ��̤��֤��ʤ�������� Mysql::Stmt#result_metadata �� nil ���Ѥ����褦�ˤ��� (Thanks to Hidetoshi)
          <li>BUG: Mysql#close �� mysql_errno �򸫤ʤ��褦���ѹ�
          <li>BUG: �֥�å��Ĥ� Mysql#query ��ʣ�����ơ��ȥ��Ȼ��˥��顼��̵�뤷�Ƥ�����
          <li>extconf.rb �� Visual C++ �б� (Thanks to Shugo Maeda)
          <li>BIT�����б�
          <li>Mysql::Field �� TYPE_BIT, TYPE_NEWDECIMAL �ɲ�
        </ul>

      <dt>2006-06-04
      <dd>
        version 2.7.1
        <ul>
          <li>free() �� xfree() ���ѹ���Windows �ǤΥ���å���β���Τ��ᡣ(Tobias Grimm �˴���)
        </ul>

      <dt>2005-08-22
      <dd>
        version 2.7
        <ul>
          <li>Mysql#options������ɲá�Mysql::OPT_GUESS_CONNECTION, Mysql::OPT_USE_EMBEDDED_CONNECTION, Mysql::OPT_USE_REMOTE_CONNECTION, Mysql::SET_CLIENT_IP
          <li>test.rb: 4.0.x, 5.0.x �б�
        </ul>

      <dt>2005-08-16
      <dd>
        version 2.7-beta3
        <ul>
          <li>Mysql::Stmt#bind_result �ɲ�
        </ul>

      <dt>2005-08-02
      <dd>
	version 2.7-beta2
	<ul>
	  <li>BUG: mysql.c.in: fetch_hash: �ͤ� nil �����Ǥ��ϥå���˴ޤޤ�ʤ���(Stefan Kaes �˴���)
	  <li>��� Mysql::VERSION �ɲ�
	  <li>Mysql#prepare �ɲ�
	</ul>

      <dt>2005-07-24
      <dd>
	version 2.7-beta
	<ul>
	  <li>Mysql#stmt_init �ɲ�
	  <li>Mysql::Stmt, Mysql::Time, Mysql::RowOffset ���饹�ɲ�
	  <li>Mysql::Error#sqlstate �ɲ�
	  <li>Mysql::Result#row_seek,row_tell ������ offset �ͤ� Mysql::RowOffset ���֥������Ȥ��ѹ�
	</ul>

      <dt>2005-07-31
      <dd>
	version 2.6.3
	<ul>
	  <li>��� Mysql::VERSION �ɲ�
	</ul>

      <dt>2005-07-26
      <dd>
	version 2.6.2
	<ul>
	  <li>BUG: mysql.c.in: fetch_hash: �ͤ� nil �����Ǥ��ϥå���˴ޤޤ�ʤ���(Stefan Kaes �˴���)
	</ul>

      <dt>2005-06-28
      <dd>
	version 2.6.1
	<ul>
	  <li>mysql.c.in: MacOSX �ǤΥ���ѥ��륨�顼������
	</ul>

      <dt>2005-04-25
      <dd>
	version 2.6
	<ul>
	  <li>Mysql#option() �Ѥ�����ɲ�
	    Mysql::OPT_PROTOCOL, Mysql::OPT_READ_TIMEOUT,
	    Mysql::OPT_WRITE_TIMEOUT, Mysql::SET_CHARSET_DIR,
	    Mysql::SET_CHARSET_NAME, Mysql::SHARED_MEMORY_BASE_NAME,
	    Mysql::SECURE_AUTH
	  <li>Mysql#more_results?(), Mysql#next_result(), 
	    Mysql#set_server_option(), Mysql#sqlstate() �ɲ�
	  <li>Mysql#connect() �Υե饰������ɲ�
	    Mysql::CLIENT_MULTI_STATEMENTS, Mysql::CLIENT_MULTI_RESULTS
	  <li>Mysql#set_server_option() �Ѥ�����ɲ�
	    Mysql::OPTION_MULTI_STATEMENTS_ON,
	    Mysql::OPTION_MULTI_STATEMENTS_OFF
	  <li>�֥�å��դ� Mysql#query()
	  <li>Mysql#reconnect(), Mysql#reconnect=() �ɲ�
	  <li>MySQL �Ȥ���³���ڤ줿�Ȥ��ˡ��ǥե���ȤǤϺ���³���ʤ��褦�ˤ�����
	</ul>

      <dt>2005-02-12
      <dd>
	version 2.5.2
	<ul>
	  <li>BUG: Mysql#connect ����³�������³�����Ǥ���ʤ���(Andres Salomon �˴���)
	</ul>

      <dt>2004-09-20
      <dd>
	version 2.5.1
	<ul>
	  <li>Mysql#set_ssl() �ɲá�
	</ul>

      <dt>2004-08-31
      <dd>
	version 2.5
	<ul>
	  <li>MySQL 4.1.x �б�
	  <li>MysqlRes, MysqlField, MysqlError �� Mysql::Result, Mysql::Field,
	    Mysql::Error ���ѹ���
	  <li>Mysql.client_version(), Mysql.get_client_version(),
	    Mysql#client_version(), Mysql#get_client_version(),
	    Mysql#server_version(), Mysql#get_server_version(),
	    Mysql#warning_count(), Mysql#commit(), Mysql#rollback(),
	    Mysql#autocommit() �ɲá�
	  <li>Mysql::Field#is_not_null?(), Mysql::Field#is_pri_key?(),
	    Mysql::Field#is_num?() �ɲá�
	  <li>MysqlField::TYPE_VAR_STRING �ɲá�
	</ul>

      <dt>2003-08-10
      <dd>
	version 2.4.5
	<ul>
	  <li>extconf.rb: MySQL 4.1 �б���
	  <li>mysql.c.in: Ruby 1.8 �б���
	</ul>

      <dt>2003-02-23
      <dd>
	version 2.4.4a
	<ul>
	  <li>extconf.rb �� Ruby 1.8.0 �б���
	</ul>

      <dt>2003-01-29
      <dd>
	version 2.4.4
	<ul>
	  <li>Mysql::OPT_LOCAL_INFILE ���ɲá�
	  <li>extconf.rb �� --with-mysql-config ���ץ������ɲ�
	  <li>extconf.rb ���˼�ʥ饤�֥���ư���Ф���褦�ˤ�����
	</ul>

      <dt>2003-01-05
      <dd>
	version 2.4.3c
	<ul>
	  <li>�Ѹ�� README �β��ǡ�Paul DuBois �˴��ա�
	</ul>

      <dt>2002-12-24
      <dd>
	version 2.4.3b
	<ul>
	  <li>extconf.rb �� Ruby 1.6.8 �б���
	</ul>

      <dt>2002-11-07
      <dd>
	version 2.4.3a
	<ul>
	  <li>���顼�������ʣ�������뤳�Ȥ�����Х�������
	</ul>

      <dt>2002-09-10
      <dd>
	version 2.4.3
	<ul>
	  <li>ER_ �ǻϤޤ륨�顼����ˤ��б�������
	  <li>errmsg.h �� mysqld_error.h ���鼫ưŪ�˥��顼������������褦�ˤ�����
	</ul>

      <dt>2002-01-07
      <dd>
	version 2.4.2
	<ul>
	  <li>MySQL 4.0 �б���
	  <li>uint �� unsigned int ���ѹ���mswin�б��ˡ�
	</ul>

      <dt>2001-12-02
      <dd>
	version 2.4.1
	<ul>
	  <li>���פ� extern �����Cygiwn�б��ˡ�
	  <li>extconf.rb �Υ��ץ������ѹ���
	</ul>

      <dt>2001-10-12
      <dd>
	version 2.4.0
	<ul>
	  <li>Ruby 1.7 ���б���
	  <li>Mysql::debug(), Mysql#change_user(), Mysql#character_set_name(),
	    Mysql#dump_debug_info() ���ɲá�
	</ul>

      <dt>2001-03-25
      <dd>
	version 2.3.2a
	<ul>
	  <li>t/50update.rb ��Ƚ����ˡ���ѹ�
	</ul>

      <dt>2001-03-19
      <dd>
	version 2.3.2
	<ul>
	  <li>�����(20��) MysqlRes ���֥������Ȥ����������顢����Ū�� GC ����褦�ˤ�����
	  <li>Mysql#escape_string(), Mysql#quote() �� mysql_real_escape_string() ����Ѥ���褦�ˤ�����
	</ul>

      <dt>2000-09-02
      <dd>
	version 2.3.1
	<ul>
	  <li>Mysql#initialize() ���ɲ�(Ruby 1.6 �б�)��
	</ul>

      <dt>2000-07-22
      <dd>
	version 2.3.0
	<ul>
	  <li>MysqlRes#free() ���ɲá�
	  <li>Mysql#initialize(), MysqlRes#initialize() ��ͭ��ˤ�����
	  <li>true ���֤��Ƥ����᥽�åɤ�self ���֤��褦�ˤ�����
	</ul>

      <dt>2000-05-27
      <dd>
	version 2.2.1a
	<ul>
	  <li>test.rb �����ǥѥ�᡼�������Ǥ���褦�ˤ�����
	</ul>

      <dt>2000-05-10
      <dd>
	version 2.2.1
	<ul>
	  <li>�ǡ����١�������Υǡ�����ֱ������줿��ʸ������ѹ���
	  <li>�ƥ��ȥ�����ץ��ɲá�
	</ul>

      <dt>1999-09-28
      <dd>
	version 2.2.0
	<ul>
	  <li>Mysql::init(), Mysql#options(), Mysql#real_connect() ���ɲá�
	  <li>Mysql#field_count ���ɲá�
	</ul>

      <dt>1999-09-24
      <dd>
	version 2.1.7
	<ul>
	  <li>MySQL 3.22.26 ���б���
	  <li>MysqlField#inspect() ���ɲá�
	</ul>

      <dt>1999-06-17
      <dd>
	version 2.1.6
	<ul>
	  <li>fetch_field ������뤳�Ȥ����ä���
	</ul>

      <dt>1999-06-12
      <dd>
	version 2.1.5
	<ul>
	  <li>Ruby 1.3.x �б�������Ⱦü���ä���
	</ul>

      <dt>1999-05-30
      <dd>
	version 2.1.4
	<ul>
	  <li>Ruby 1.3.x ���б���
	</ul>

      <dt>1999-04-13
      <dd>
	version 2.1.3
	<ul>
	  <li>fetch_hash/each_hash �ΰ���ο���������ְ�äƤ�����
	  <li>fetch_hash/each_hash �� true ����ꤷ�����ι���̾���礱�Ƥ�����
	  <li>NULL�ͤι��ܤ������ fetch_hash/each_hash ��ư�������������ä���
	</ul>

      <dt>1999-02-01
      <dd>
	version 2.1.2
	<ul>
	  <li>Mysql#refresh() �� Mysql::REFRESH_* ���ɲá�
	  <li>MySQL 3.21.xx �ˤ��б�(�������Ĥ���)��
	</ul>

      <dt>1999-01-24
      <dd>
	version 2.1.1
	<ul>
	  <li>MysqlError#error(), MysqlError#errno() ���ɲá�
	  <li>MysqlError::CR_* ���ɲá�
	</ul>

      <dt>1999-01-17
      <dd>
	version 2.1
	<ul>
	  <li>fetch_hash, each_hash �� C �������˰�ư��
	  <li>MysqlField#hash() ���ɲá�
	  <li>escape_string, get_client_info �򥪥֥������ȥ᥽�åɤȤ��Ƥ�Ȥ���褦�ˤ�����
	</ul>

      <dt>1998-11-29
      <dd>
	version 2.0.1
	<ul>
	  <li>fetch_hash, each_hash �� with_table ������ɲá�
	  <li>��äѤ� get_* �᥽�å�̾�� C API ��Ʊ���ˤ�����
	  <li>mysql-compat.rb �� alias �ǽ�ľ������
	  <li>Mysql ����� CLIENT_* �� MysqlField ������ˤʤäƤ�����
	</ul>

      <dt>1998-11-15
      <dd>
	version 2.0
	<ul>
	  <li>�᥽�å�̾�� C API ��Ʊ���ˤ�����
	  <li>C++ �Ǥ��̤�褦�˽�ľ������
	</ul>

      <dt>1998-08-13
      <dd>
	version 1.0
	<ul>
	  <li>���С������
	</ul>
    </dl>

    <h2>���</h2>
    <p>
      e-mail: �Ȥߤ��ޤ��Ҥ� <a href="mailto:tommy@tmtm.org">tommy@tmtm.org</a>
      <a href="http://tmtm.org">http://tmtm.org</a>
    </p>
    <hr>
    <address><a href="mailto:tommy@tmtm.org">TOMITA Masahiro</a></address>
<!-- Created: Sun Aug 29 11:52:09 JST 2004 -->
<!-- hhmts start -->
Last modified: Sun Feb  1 17:41:18 JST 2009
<!-- hhmts end -->
  </body>
</html>
